<!doctype html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Organizer</title>
<link href="cs3733Template.css" rel="stylesheet" type="text/css">
<script>var __adobewebfontsappname__="dreamweaver"</script>
<script src="http://use.edgefonts.net/source-sans-pro:n2:default.js" type="text/javascript"></script>
<script type="text/javascript">
//JavaScript Goes Here
var base_url = "https://r37b9qrsj3.execute-api.us-east-2.amazonaws.com/Alpha/";
var add_url = base_url + "scheduler";    // POST

function processResponse(arg1, arg2, result) {
  // Can grab any DIV or SPAN HTML element and can then manipulate its contents dynamically via javascript
  console.log("result:" + result);
  var js = JSON.parse(result);

  var computation = js["value"];

  // Update computation result
  document.addForm.result.value = computation
}

function handleClick(e) {
  var form = document.createSchedule;
  var name = form.scheduleName.value;
  var timeslotSize = form.getparameter("timeSlotDuration"); //""20";  // form.arg2.value;
  var startHour = form.getparameter("startHour") //"10";
  var endHour = form.getparameter("endHour") //"17";
  var startDate = form.StartDate.value; //"2018-11-29";
  var endDate = form.EndDate.value //"2018-11-30";

  var data = {};
  data["arg1"] = "sd";
  data["arg2"] = "sdsd";

  var js = JSON.stringify(data);
  console.log("JS:" + js);
  var xhr = new XMLHttpRequest();
  xhr.open("POST", add_url, true);

  // send the collected data as JSON
  xhr.send(js);

  // This will process results and update HTML as appropriate.
  xhr.onloadend = function () {
    console.log(xhr);
    console.log(xhr.request);
    if (xhr.readyState == XMLHttpRequest.DONE) {
      console.log ("XHR:" + xhr.responseText);
      processResponse(arg1, arg2, xhr.responseText);
    } else {
      processResponse(arg1, arg2, "N/A");
    }
  };
}

</script>
</head>
<body>
  <div class="container">
    <header> <a href="">
      <h4 class="logo">Organizer View</h4>
      </a>
    </header>
  <section class = "initialOrganizerInput" id="initialOrgainzerInput">
  <fieldset>
    <legend>Create a Schedule</legend>
  <form name="createSchedule" method="post">
    <input type="text" name="scheduleName" value="Schedule Name" />
    <select name="timeSlotDuration">
      <option value="0">Timeslot Duration</option>
      <option value="10">10</option>
      <option value="15">15</option>
      <option value="20">20</option>
      <option value="30">30</option>
      <option value="60">60</option>
    </select>
    <select name="startHour">
      <option value="startHour">Start Hour</option>
      <option value="00:00:00.00">00:00</option>
      <option value="01:00:00.00">01:00</option>
      <option value="02:00:00.00">02:00</option>
      <option value="03:00:00.00">03:00</option>
      <option value="04:00:00.00">04:00</option>
      <option value="05:00:00.00">05:00</option>
      <option value="06:00:00.00">06:00</option>
      <option value="07:00:00.00">07:00</option>
      <option value="08:00:00.00">08:00</option>
      <option value="09:00:00.00">09:00</option>
      <option value="10:00:00.00">10:00</option>
      <option value="11:00:00.00">11:00</option>
      <option value="12:00:00.00">12:00</option>
      <option value="13:00:00.00">13:00</option>
      <option value="14:00:00.00">14:00</option>
      <option value="15:00:00.00">15:00</option>
      <option value="16:00:00.00">16:00</option>
      <option value="17:00:00.00">17:00</option>
      <option value="18:00:00.00">18:00</option>
      <option value="19:00:00.00">19:00</option>
      <option value="20:00:00.00">20:00</option>
      <option value="21:00:00.00">21:00</option>
      <option value="22:00:00.00">22:00</option>
      <option value="23:00:00.00">23:00</option>
    </select>
    <select name="endHour">
      <option value="endHour">End Hour</option>
      <option value="00:00:00.00">00:00</option>
      <option value="01:00:00.00">01:00</option>
      <option value="02:00:00.00">02:00</option>
      <option value="03:00:00.00">03:00</option>
      <option value="04:00:00.00">04:00</option>
      <option value="05:00:00.00">05:00</option>
      <option value="06:00:00.00">06:00</option>
      <option value="07:00:00.00">07:00</option>
      <option value="08:00:00.00">08:00</option>
      <option value="09:00:00.00">09:00</option>
      <option value="10:00:00.00">10:00</option>
      <option value="11:00:00.00">11:00</option>
      <option value="12:00:00.00">12:00</option>
      <option value="13:00:00.00">13:00</option>
      <option value="14:00:00.00">14:00</option>
      <option value="15:00:00.00">15:00</option>
      <option value="16:00:00.00">16:00</option>
      <option value="17:00:00.00">17:00</option>
      <option value="18:00:00.00">18:00</option>
      <option value="19:00:00.00">19:00</option>
      <option value="20:00:00.00">20:00</option>
      <option value="21:00:00.00">21:00</option>
      <option value="22:00:00.00">22:00</option>
      <option value="23:00:00.00">23:00</option>
    </select>
    Start Date <input type="date" name="StartDate">
    End Date <input type="date" name="EndDate">
    <button type="button" onclick="JavaScript:handleClick(this)">Create a Schedule of your own!</button><br>
  </form>
  </fieldset>
    <br>
  <fieldset>
    <legend>View a Schedule or Meeting</legend>
    <form>
    Secret Code: <input type="text" name="SecretCode" value="">
    <input type="submit" value="Submit">
    <br>
    </form>
  </fieldset>
</section>
<section class = "OrganizerOptions" id="OrganizerOptions">
  <br>
  <fieldset>
    <legend>Search This Schedule</legend>
    <form>Display this Schedule on the week of <input type="date" name="displayDate"><input type="submit"></form>
  </fieldset>
  <br>
  <fieldset>
    <legend>Edit This Schedule</legend>
    <form>Add days on the end up to <input type="date" name="extendEndDate"><input type="submit"></form>
    <form>Add days on the start up to <input type="date" name="extendStartDate"><input type="submit"></form>
    <form>Remove days from the end up to <input type="date" name="retractEndDate"><input type="submit"></form>
    <form>Remove days from the start up to <input type="date" name="retractStartDate"><input type="submit"></form>
    <form>Open all meetings on
      <select>
      <option value="openDayOfWeek">Day of the Week</option>
      <option value="MonOpen">Mondays</option>
      <option value="TueOpen">Tuesdays</option>
      <option value="WedOpen">Wednesdays</option>
      <option value="ThuOpen">Thursdays</option>
      <option value="FriOpen">Fridays</option>
    </select>
    <input type="submit"></form>
    <form>Close all meetings on
      <select>
      <option value="closeDayOfWeek">Day of the Week</option>
      <option value="MonClose">Mondays</option>
      <option value="TueClose">Tuesdays</option>
      <option value="WedClose">Wednesdays</option>
      <option value="ThuClose">Thursdays</option>
      <option value="FriClose">Fridays</option>
    </select>
    <input type="submit"></form>
    <form>Open all meetings on <input type="date" name="openAllOnDay"><input type="submit"></form>
    <form>Close all meetings on <input type="date" name="closeAllOnDay"><input type="submit"></form>
    <form>Open all meetings at
      <select>
      <option value="openTimeslot">Time Slot</option>
      <option value="slot1">Add timeslots to this dropdown</option>
    </select>
    <input type="submit"></form>
    <form>Close all meetings at
      <select>
      <option value="openTimeslot">Time Slot</option>
      <option value="slot1">Add timeslots to this dropdown</option>
    </select>
    <input type="submit"></form>
  </fieldset>
  </section>
  <br>
  <section class = "OrganizerCalendar" id="OrgnaizerCalendar">
    <fieldset>
      <legend>Weekly Calendar</legend>
      Your Secret Code for this Schedule is: <input name="meetingScheduleURLOrganizer" readonly/>
      and the URL to schedule Meetings is: <input name="secretCodeOrganizer" readonly/>
      <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
      <button type="button" onclick="alert('SCHEDULE DELETE CONFIRMATION')">Delete This Schedule</button>
    </fieldset>
  </section>
</body>
</html>
